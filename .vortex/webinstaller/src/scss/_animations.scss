@use 'variables';

// Conditional field styling and animations
.conditional-field {
  margin-left: 24px;
  margin-top: calc(var(--base-margin) * var(--scale-factor) * 0.75);
  padding-left: 20px;
  border-left: 3px solid variables.$gray-200;
  position: relative;
  overflow: hidden;
  transition: all 0.4s variables.$transition-base;

  &.active {
    border-left-color: variables.$primary;
  }

  // Animated gradient border
  &::before {
    content: '';
    position: absolute;
    left: -3px;
    top: 0;
    bottom: 0;
    width: 3px;
    background: linear-gradient(
      135deg,
      variables.$primary,
      variables.$primary-hover
    );
    transform: scaleY(0);
    transform-origin: top;
    transition: transform 0.4s variables.$transition-base;
  }

  &.active::before {
    transform: scaleY(1);
  }

  .form-group {
    margin-bottom: calc(var(--base-margin) * var(--scale-factor) * 1.2);
  }
}

// Alpine.js custom transition classes for height-based animation
.height-enter {
  max-height: 0;
  opacity: 0;
  margin-top: 0;
  margin-bottom: 0;
  padding-top: 0;
  padding-bottom: 0;
  transform: translateY(-10px);
}

.height-enter-start {
  max-height: 0;
  opacity: 0;
  margin-top: 0;
  margin-bottom: 0;
  padding-top: 0;
  padding-bottom: 0;
  transform: translateY(-10px);
}

.height-enter-end {
  max-height: 500px;
  opacity: 1;
  margin-top: calc(var(--base-margin) * var(--scale-factor) * 0.75);
  margin-bottom: 0;
  padding-top: 0;
  padding-bottom: 0;
  transform: translateY(0);
  transition:
    max-height 0.6s variables.$transition-enter,
    opacity 0.4s variables.$transition-enter,
    margin 0.5s variables.$transition-enter,
    padding 0.3s variables.$transition-enter,
    transform 0.4s variables.$transition-enter;
}

.height-leave {
  max-height: 500px;
  opacity: 1;
  margin-top: calc(var(--base-margin) * var(--scale-factor) * 0.75);
  margin-bottom: 0;
  transform: translateY(0);
}

.height-leave-start {
  max-height: 500px;
  opacity: 1;
  margin-top: calc(var(--base-margin) * var(--scale-factor) * 0.75);
  margin-bottom: 0;
  transform: translateY(0);
}

.height-leave-end {
  max-height: 0;
  opacity: 0;
  margin-top: 0;
  margin-bottom: 0;
  padding-top: 0;
  padding-bottom: 0;
  transform: translateY(-10px);
  transition:
    max-height 0.4s variables.$transition-leave,
    opacity 0.3s variables.$transition-leave,
    margin 0.4s variables.$transition-leave,
    padding 0.2s variables.$transition-leave,
    transform 0.3s variables.$transition-leave;
}
