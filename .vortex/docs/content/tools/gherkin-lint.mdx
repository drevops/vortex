# Gherkin Lint

https://github.com/dantleech/gherkin-lint-php

> Provides a Gherkin linter for PHP.

**Vortex** comes with [Gherkin Lint configuration](https://github.com/drevops/vortex/blob/develop/gherkinlint.json) for Behat tests.

## Usage

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

<Tabs>
  <TabItem value="ahoy" label="Ahoy" default>
    ```shell
    ahoy lint-tests
    ```
  </TabItem>
  <TabItem value="docker-compose" label="Docker Compose">
    ```shell
    docker compose exec cli vendor/bin/gherkinlint lint tests/behat/features
    ```
  </TabItem>
</Tabs>

## Configuration

See [configuration reference](https://github.com/dantleech/gherkin-lint-php?tab=readme-ov-file#configuration) and [rules](https://github.com/dantleech/gherkin-lint-php/blob/master/docs/rules.md).

All global configuration takes place in the [`gherkinlint.json`](https://github.com/drevops/vortex/blob/develop/gherkinlint.json) file.
The values are merged with the default configuration.

To check enabled rules, run

```shell
vendor/bin/gherkinlint rules
```

## Ignoring

Ignoring rules **globally** takes place in the  [`gherkinlint.json`](https://github.com/drevops/vortex/blob/develop/gherkinlint.json) file.

```json
{
    "rules": {
        "filename": {
            "enabled": false
        }
    }
}
```

Gherkin Lint does not support ignoring of all rules in the file.

To ignore **a specific rule** within a file, place in the file header:

```yaml
# @gherkinlint-disable-rule keyword-order, someother-rule
```

Gherkin Lint does not support ignoring of the **code blocks**.

Gherkin Lint does not support ignoring rules on the **current line**.

Gherkin Lint does not support ignoring rules on the **next line**.

## Ignoring fail in continuous integration pipeline

This tool runs in continuous integration pipeline by default and fails the build
if there are any violations.

Set `VORTEX_CI_GHERKIN_LINT_IGNORE_FAILURE` environment variable to `1` to
ignore failures. The tool will still run and report violations, if any.
