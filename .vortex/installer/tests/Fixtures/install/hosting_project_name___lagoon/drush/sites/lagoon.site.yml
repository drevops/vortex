# Drush alias file for Lagoon-hosted environments.
#
# This can run on host or from within a container.
#
# Your SSH key must be loaded in your ssh-agent for SSH client to work:
#   ssh-add ~/.ssh/path/to/key             # Run on host to run remote Drush commands from host.
#   or
#   pygmy addkey --key ~/.ssh/path/to/key  # Run on the host to execute remote Drush commands from inside the container.
#
# @usage:
#   drush @lagoon.<branch-or-pr> status      # Run on host.
#   or
#   ahoy drush @lagoon.<branch-or-pr> status # Run from within a container using Ahoy
#
# @example:
#   drush @lagoon.develop status  # Show status of the develop environment
#   drush @lagoon.pr-123 ssh      # SSH into the web container of the PR-123 environment
#
# Note: Drush does not support loading variable from .env files, so in
# order to make this configuration work in the identical way on host and in
# the container, we hardcoded the project name here.
#
'*':
  host: ssh.lagoon.amazeeio.cloud
  user: my_custom_lagoon-project-${env-name}
  uri: https://nginx-php.${env-name}.my_custom_lagoon-project.au2.amazee.io
  ssh:
    options: '-o UserKnownHostsFile=/dev/null -o StrictHostKeyChecking=no -o LogLevel=FATAL -p 32222'
    tty: false
